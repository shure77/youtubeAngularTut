<form [formGroup]="form" (ngSubmit)="onSubmit(form.value)" autocomplete="off">
    <fieldset>
        <legend>Car Info</legend>
        <div class="row">
    <div class="form-group col-md-6">
        <label for="brand">Brand</label>
        <!--id is needed by the server for the http post request, also add it in the .ts to register it in the form!-->
        <input formControlName="id" type="hidden" [(ngModel)] = "car.id">
        <input formControlName="brand" type="text" class="form-control" id="brand" [(ngModel)] = "car.brand">
        <span class="help-block" *ngIf="form.get('brand').invalid && form.get('brand').touched && form.get('brand').dirty">Must not exceed 50 chars</span>
    </div>
    <div class="form-group col-md-6">
        <label for="model">Model</label>
        <input formControlName="model" type="text" class="form-control" id="model" [(ngModel)] = "car.model">
        <span class="help-block" *ngIf="form.get('model').invalid && form.get('model').touched && form.get('model').dirty">Must not exceed 50 chars</span>
    </div>
</div>
<div class="row">
    <div class="form-group col-md-4">
        <label for="fabYear">Fab Year</label>
        <input formControlName="fabYear" type="number" class="form-control" id="fabYear" placeholder="YYYY" [(ngModel)] = "car.fabYear">
    </div>
    <div class="form-group col-md-4">
        <label for="price">Price</label>
        <input formControlName="price" type="number" class="form-control" id="price" [(ngModel)] = "car.price">
    </div>
    <div class="form-group col-md-4">
        <label for="km">km</label>
        <input formControlName="km" type="number" class="form-control" id="km" [(ngModel)] = "car.km">
    </div>
</div>
</fieldset>
    <fieldset>
        <legend>Engine Info</legend>
    <div formGroupName="engine">
            <div class="row">
    <div class="form-group col-md-4">
        <label for="fuelType">Fuel Type</label>
        <select formControlName="fuelType" class="form-control" id="fuelType" [(ngModel)] = "car.engine.fuelType">
            <option *ngFor="let fuelType of fuelTypes; let i = index" [attr.data-index]="i">{{fuelType}}</option>
        </select>
    </div>
    <div class="form-group col-md-4">
        <label for="power">Power</label>
        <input formControlName="power" type="number" class="form-control" id="power" [(ngModel)] = "car.engine.power">
        <span class="help-block" *ngIf="form.get('engine.power').invalid && form.get('engine.power').touched && form.get('engine.power').dirty">Must not exceed 100</span>
    </div>

    <div class="form-group col-md-4">
        <label for="fuelConsumption">liter/km</label>
        <input formControlName="fuelConsumption" type="number" class="form-control" id="fuelConsumption" [(ngModel)] = "car.engine.fuelConsumption">
    </div>
</div>
</div>
</fieldset>
    <button class="btn btn-primary" style="width: 50%;"type="submit" [disabled]="!form.valid">{{ isAddAction(car.id) ? 'Add Car' : 'Edit Car'}}</button>
    <button class="btn btn-danger" style="width: 50%;" type="button" (click)="onReset()">Reset</button>
</form>